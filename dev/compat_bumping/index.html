<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Compat Bumping · OrgMaintenanceScripts.jl</title><meta name="title" content="Compat Bumping · OrgMaintenanceScripts.jl"/><meta property="og:title" content="Compat Bumping · OrgMaintenanceScripts.jl"/><meta property="twitter:title" content="Compat Bumping · OrgMaintenanceScripts.jl"/><meta name="description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="twitter:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/compat_bumping/"/><meta property="twitter:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/compat_bumping/"/><link rel="canonical" href="https://docs.sciml.ai/OrgMaintenanceScripts/stable/compat_bumping/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OrgMaintenanceScripts.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OrgMaintenanceScripts.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../formatting/">Formatting Maintenance</a></li><li><a class="tocitem" href="../version_bumping/">Version Bumping</a></li><li class="is-active"><a class="tocitem" href>Compat Bumping</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#Workflow"><span>Workflow</span></a></li><li><a class="tocitem" href="#Requirements"><span>Requirements</span></a></li><li><a class="tocitem" href="#Notes"><span>Notes</span></a></li></ul></li><li><a class="tocitem" href="../min_version_fixing/">Minimum Version Fixing</a></li><li><a class="tocitem" href="../version_check_finder/">Version Check Finder</a></li><li><a class="tocitem" href="../explicit_imports_fixing/">Explicit Imports Fixing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Compat Bumping</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Compat Bumping</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/OrgMaintenanceScripts.jl/blob/main/docs/src/compat_bumping.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Compat-Bumping"><a class="docs-heading-anchor" href="#Compat-Bumping">Compat Bumping</a><a id="Compat-Bumping-1"></a><a class="docs-heading-anchor-permalink" href="#Compat-Bumping" title="Permalink"></a></h1><p>OrgMaintenanceScripts.jl provides functionality to automatically check for major version updates of dependencies, test them locally, and create pull requests if tests pass.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The compat bumping functionality helps maintain Julia packages by:</p><ul><li>Detecting when dependencies have new major versions available</li><li>Automatically updating compat entries to allow the new versions</li><li>Running tests locally to ensure compatibility</li><li>Creating pull requests if tests pass</li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="get_available_compat_updates"><a class="docs-heading-anchor" href="#get_available_compat_updates"><code>get_available_compat_updates</code></a><a id="get_available_compat_updates-1"></a><a class="docs-heading-anchor-permalink" href="#get_available_compat_updates" title="Permalink"></a></h3><p>Check for available major version updates in a package&#39;s dependencies.</p><pre><code class="language-julia hljs">updates = get_available_compat_updates(&quot;Project.toml&quot;)</code></pre><p>Returns a vector of <code>CompatUpdate</code> structs, each containing:</p><ul><li><code>package_name</code>: Name of the dependency</li><li><code>current_compat</code>: Current compat specification</li><li><code>latest_version</code>: Latest available version</li><li><code>is_major_update</code>: Whether this is a major version bump</li></ul><h3 id="bump_compat_and_test"><a class="docs-heading-anchor" href="#bump_compat_and_test"><code>bump_compat_and_test</code></a><a id="bump_compat_and_test-1"></a><a class="docs-heading-anchor-permalink" href="#bump_compat_and_test" title="Permalink"></a></h3><p>Bump compat entries for major version updates and run tests locally.</p><pre><code class="language-julia hljs">success, message, pr_url, bumped_packages = bump_compat_and_test(&quot;path/to/repo&quot;;
    package_name = &quot;SpecificPackage&quot;,  # Optional: bump only this package
    bump_all = false,                  # Bump all available updates
    create_pr = true,                  # Create PR if tests pass
    fork_user = &quot;yourusername&quot;         # Required for PR creation
)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>repo_path</code>: Path to the repository</li><li><code>package_name</code>: Specific package to bump (optional)</li><li><code>bump_all</code>: Whether to bump all available updates or just one</li><li><code>create_pr</code>: Whether to create a PR if tests pass</li><li><code>fork_user</code>: GitHub username for creating PRs</li></ul><p><strong>Returns:</strong></p><ul><li><code>success</code>: Whether the operation succeeded</li><li><code>message</code>: Status message</li><li><code>pr_url</code>: URL of created PR (if any)</li><li><code>bumped_packages</code>: List of packages that were bumped</li></ul><h3 id="bump_compat_org_repositories"><a class="docs-heading-anchor" href="#bump_compat_org_repositories"><code>bump_compat_org_repositories</code></a><a id="bump_compat_org_repositories-1"></a><a class="docs-heading-anchor-permalink" href="#bump_compat_org_repositories" title="Permalink"></a></h3><p>Process all repositories in a GitHub organization.</p><pre><code class="language-julia hljs">successes, failures, pr_urls = bump_compat_org_repositories(&quot;SciML&quot;;
    package_name = nothing,      # Bump all packages
    bump_all = false,           # One update per repo
    create_pr = true,
    fork_user = &quot;yourusername&quot;,
    limit = 100,
    log_file = &quot;compat_bump.log&quot;
)</code></pre><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><h3 id="Check-for-Updates"><a class="docs-heading-anchor" href="#Check-for-Updates">Check for Updates</a><a id="Check-for-Updates-1"></a><a class="docs-heading-anchor-permalink" href="#Check-for-Updates" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OrgMaintenanceScripts

# Check what updates are available
updates = get_available_compat_updates(&quot;Project.toml&quot;)
for update in updates
    println(&quot;$(update.package_name): $(update.current_compat) → $(update.latest_version)&quot;)
end</code></pre><h3 id="Bump-Single-Package"><a class="docs-heading-anchor" href="#Bump-Single-Package">Bump Single Package</a><a id="Bump-Single-Package-1"></a><a class="docs-heading-anchor-permalink" href="#Bump-Single-Package" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Bump compat for DataFrames only
success, msg, pr_url, bumped = bump_compat_and_test(&quot;.&quot;;
    package_name = &quot;DataFrames&quot;,
    create_pr = true,
    fork_user = &quot;myusername&quot;
)</code></pre><h3 id="Bump-All-Updates"><a class="docs-heading-anchor" href="#Bump-All-Updates">Bump All Updates</a><a id="Bump-All-Updates-1"></a><a class="docs-heading-anchor-permalink" href="#Bump-All-Updates" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Bump all available major version updates
success, msg, pr_url, bumped = bump_compat_and_test(&quot;.&quot;;
    bump_all = true,
    create_pr = true,
    fork_user = &quot;myusername&quot;
)</code></pre><h3 id="Process-Organization"><a class="docs-heading-anchor" href="#Process-Organization">Process Organization</a><a id="Process-Organization-1"></a><a class="docs-heading-anchor-permalink" href="#Process-Organization" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Process all SciML repositories
successes, failures, pr_urls = bump_compat_org_repositories(&quot;SciML&quot;;
    bump_all = false,  # One update per repo
    create_pr = true,
    fork_user = &quot;myusername&quot;,
    limit = 50
)

println(&quot;Successfully updated: $(length(successes)) repos&quot;)
println(&quot;Failed: $(length(failures)) repos&quot;)
println(&quot;Created $(length(pr_urls)) pull requests&quot;)</code></pre><h2 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h2><ol><li><strong>Detection</strong>: The tool scans <code>Project.toml</code> to find dependencies with new major versions</li><li><strong>Update</strong>: Compat entries are updated to allow the new major version</li><li><strong>Test</strong>: The package&#39;s tests are run locally with the updated dependencies</li><li><strong>PR Creation</strong>: If tests pass, a pull request is automatically created</li></ol><h2 id="Requirements"><a class="docs-heading-anchor" href="#Requirements">Requirements</a><a id="Requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Requirements" title="Permalink"></a></h2><ul><li>Julia 1.6 or later</li><li>GitHub CLI (<code>gh</code>) installed and authenticated for PR creation</li><li>Write access to a fork of the repositories you want to update</li></ul><h2 id="Notes"><a class="docs-heading-anchor" href="#Notes">Notes</a><a id="Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Notes" title="Permalink"></a></h2><ul><li>The tool only creates PRs for updates where tests pass</li><li>Tests have a default timeout of 30 minutes (configurable)</li><li>Rate limiting is applied when processing multiple repositories</li><li>Logs are saved for organization-wide operations</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../version_bumping/">« Version Bumping</a><a class="docs-footer-nextpage" href="../min_version_fixing/">Minimum Version Fixing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 28 July 2025 08:56">Monday 28 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
