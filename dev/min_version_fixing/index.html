<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Minimum Version Fixing · OrgMaintenanceScripts.jl</title><meta name="title" content="Minimum Version Fixing · OrgMaintenanceScripts.jl"/><meta property="og:title" content="Minimum Version Fixing · OrgMaintenanceScripts.jl"/><meta property="twitter:title" content="Minimum Version Fixing · OrgMaintenanceScripts.jl"/><meta name="description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="twitter:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/min_version_fixing/"/><meta property="twitter:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/min_version_fixing/"/><link rel="canonical" href="https://docs.sciml.ai/OrgMaintenanceScripts/stable/min_version_fixing/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OrgMaintenanceScripts.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OrgMaintenanceScripts.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../formatting/">Formatting Maintenance</a></li><li><a class="tocitem" href="../version_bumping/">Version Bumping</a></li><li><a class="tocitem" href="../compat_bumping/">Compat Bumping</a></li><li class="is-active"><a class="tocitem" href>Minimum Version Fixing</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Usage-Examples"><span>Usage Examples</span></a></li><li><a class="tocitem" href="#Version-Bumping-Strategy"><span>Version Bumping Strategy</span></a></li><li><a class="tocitem" href="#Requirements"><span>Requirements</span></a></li><li><a class="tocitem" href="#How-It-Works"><span>How It Works</span></a></li><li><a class="tocitem" href="#Example-Output"><span>Example Output</span></a></li></ul></li><li><a class="tocitem" href="../version_check_finder/">Version Check Finder</a></li><li><a class="tocitem" href="../explicit_imports_fixing/">Explicit Imports Fixing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Minimum Version Fixing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Minimum Version Fixing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/OrgMaintenanceScripts.jl/blob/main/docs/src/min_version_fixing.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Minimum-Version-Fixing"><a class="docs-heading-anchor" href="#Minimum-Version-Fixing">Minimum Version Fixing</a><a id="Minimum-Version-Fixing-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Version-Fixing" title="Permalink"></a></h1><p>The <code>OrgMaintenanceScripts.jl</code> package provides tools to automatically fix minimum version compatibility bounds for Julia packages. This functionality helps ensure that packages pass the downgrade CI tests by intelligently updating outdated minimum version specifications.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The minimum version fixer:</p><ul><li>Uses Stefan Karpinski&#39;s Resolver.jl to test if minimum versions can be resolved</li><li>Identifies packages with problematic minimum versions through resolver errors</li><li>Intelligently bumps versions using multiple strategies</li><li>Creates pull requests with the fixes automatically</li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="fix_package_min_versions"><a class="docs-heading-anchor" href="#fix_package_min_versions"><code>fix_package_min_versions</code></a><a id="fix_package_min_versions-1"></a><a class="docs-heading-anchor-permalink" href="#fix_package_min_versions" title="Permalink"></a></h3><p>Fix minimum versions for a package that&#39;s already cloned locally.</p><pre><code class="language-julia hljs">fix_package_min_versions(repo_path::String; 
                        max_iterations::Int=10,
                        work_dir::String=mktempdir(),
                        julia_version::String=&quot;1.10&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>repo_path</code>: Path to the cloned repository</li><li><code>max_iterations</code>: Maximum number of fix iterations (default: 10)</li><li><code>work_dir</code>: Working directory for temporary files</li><li><code>julia_version</code>: Julia version for compatibility testing (default: &quot;1.10&quot;)</li></ul><p><strong>Returns:</strong> <code>(success::Bool, updates::Dict{String,String})</code></p><h3 id="fix_repo_min_versions"><a class="docs-heading-anchor" href="#fix_repo_min_versions"><code>fix_repo_min_versions</code></a><a id="fix_repo_min_versions-1"></a><a class="docs-heading-anchor-permalink" href="#fix_repo_min_versions" title="Permalink"></a></h3><p>Clone a repository, fix its minimum versions, and optionally create a PR.</p><pre><code class="language-julia hljs">fix_repo_min_versions(repo_name::String;
                     work_dir::String=mktempdir(),
                     max_iterations::Int=10,
                     create_pr::Bool=true,
                     julia_version::String=&quot;1.10&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>repo_name</code>: GitHub repository name (e.g., &quot;SciML/OrdinaryDiffEq.jl&quot;)</li><li><code>work_dir</code>: Working directory for cloning and temporary files</li><li><code>max_iterations</code>: Maximum number of fix iterations</li><li><code>create_pr</code>: Whether to create a pull request (default: true)</li><li><code>julia_version</code>: Julia version for compatibility testing</li></ul><p><strong>Returns:</strong> <code>success::Bool</code></p><h3 id="fix_org_min_versions"><a class="docs-heading-anchor" href="#fix_org_min_versions"><code>fix_org_min_versions</code></a><a id="fix_org_min_versions-1"></a><a class="docs-heading-anchor-permalink" href="#fix_org_min_versions" title="Permalink"></a></h3><p>Fix minimum versions for all Julia packages in a GitHub organization.</p><pre><code class="language-julia hljs">fix_org_min_versions(org_name::String;
                    work_dir::String=mktempdir(),
                    max_iterations::Int=10,
                    create_prs::Bool=true,
                    skip_repos::Vector{String}=String[],
                    only_repos::Union{Nothing,Vector{String}}=nothing,
                    julia_version::String=&quot;1.10&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>org_name</code>: GitHub organization name (e.g., &quot;SciML&quot;)</li><li><code>work_dir</code>: Working directory</li><li><code>max_iterations</code>: Maximum iterations per repository</li><li><code>create_prs</code>: Whether to create pull requests</li><li><code>skip_repos</code>: Repository names to skip</li><li><code>only_repos</code>: If specified, only process these repositories</li><li><code>julia_version</code>: Julia version for compatibility testing</li></ul><p><strong>Returns:</strong> <code>results::Dict{String,Bool}</code> mapping repository names to success status</p><h2 id="Usage-Examples"><a class="docs-heading-anchor" href="#Usage-Examples">Usage Examples</a><a id="Usage-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Examples" title="Permalink"></a></h2><h3 id="Fix-a-Single-Package"><a class="docs-heading-anchor" href="#Fix-a-Single-Package">Fix a Single Package</a><a id="Fix-a-Single-Package-1"></a><a class="docs-heading-anchor-permalink" href="#Fix-a-Single-Package" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OrgMaintenanceScripts

# Fix a repository by name (clones automatically)
fix_repo_min_versions(&quot;SciML/OrdinaryDiffEq.jl&quot;)

# Fix without creating a PR
fix_repo_min_versions(&quot;SciML/DiffEqBase.jl&quot;; create_pr=false)

# Fix an already cloned repository
success, updates = fix_package_min_versions(&quot;/path/to/cloned/repo&quot;)</code></pre><h3 id="Fix-an-Entire-Organization"><a class="docs-heading-anchor" href="#Fix-an-Entire-Organization">Fix an Entire Organization</a><a id="Fix-an-Entire-Organization-1"></a><a class="docs-heading-anchor-permalink" href="#Fix-an-Entire-Organization" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Fix all Julia packages in the SciML organization
results = fix_org_min_versions(&quot;SciML&quot;)

# Skip certain repositories
results = fix_org_min_versions(&quot;SciML&quot;; skip_repos=[&quot;SciMLDocs&quot;, &quot;SciMLBenchmarks.jl&quot;])

# Only process specific repositories
results = fix_org_min_versions(&quot;SciML&quot;; only_repos=[&quot;OrdinaryDiffEq.jl&quot;, &quot;DiffEqBase.jl&quot;])

# Don&#39;t create PRs (useful for testing)
results = fix_org_min_versions(&quot;SciML&quot;; create_prs=false)</code></pre><h2 id="Version-Bumping-Strategy"><a class="docs-heading-anchor" href="#Version-Bumping-Strategy">Version Bumping Strategy</a><a id="Version-Bumping-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Version-Bumping-Strategy" title="Permalink"></a></h2><p>The tool uses multiple strategies to determine appropriate minimum versions:</p><ol><li><strong>Registry Lookup</strong>: Queries the General registry for the latest compatible version</li><li><strong>Conservative Bumping</strong>:<ul><li>For <code>0.x</code> packages: Uses the latest <code>0.x</code> version</li><li>For stable packages (<code>≥1.0</code>): Uses <code>major.0.0</code></li><li>Preserves existing upper bounds in all compat entries</li></ul></li><li><strong>Fallback Strategy</strong>: If registry lookup fails, conservatively bumps the current version</li></ol><h2 id="Requirements"><a class="docs-heading-anchor" href="#Requirements">Requirements</a><a id="Requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Requirements" title="Permalink"></a></h2><ul><li>Julia 1.6+</li><li>Git</li><li>GitHub CLI (<code>gh</code>) for automatic PR creation</li><li>Authenticated with GitHub (<code>gh auth login</code>)</li></ul><h2 id="How-It-Works"><a class="docs-heading-anchor" href="#How-It-Works">How It Works</a><a id="How-It-Works-1"></a><a class="docs-heading-anchor-permalink" href="#How-It-Works" title="Permalink"></a></h2><ol><li><strong>Clone Repository</strong>: Clones the target repository (if needed)</li><li><strong>Create Branch</strong>: Creates a feature branch for the fixes</li><li><strong>Test Resolution</strong>: Uses Resolver.jl with <code>--min=@alldeps</code> to test if minimum versions resolve</li><li><strong>Identify Issues</strong>: Parses resolver errors to find problematic packages</li><li><strong>Apply Fixes</strong>: Intelligently bumps failing minimum versions</li><li><strong>Iterate</strong>: Repeats until all packages resolve</li><li><strong>Create PR</strong>: Commits changes and creates a detailed pull request</li></ol><h2 id="Example-Output"><a class="docs-heading-anchor" href="#Example-Output">Example Output</a><a id="Example-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Output" title="Permalink"></a></h2><pre><code class="nohighlight hljs">[ Info: Fixing minimum versions for OrdinaryDiffEq
[ Info: Iteration 1/10
[ Info: Resolution failed, analyzing...
[ Info: Found problematic packages: RecursiveArrayTools, StaticArrays
[ Info: Updated RecursiveArrayTools: 2.0 → 3.0
[ Info: Updated StaticArrays: 0.12 → 1.0
[ Info: Iteration 2/10
[ Info: ✓ Minimum versions resolved successfully!
[ Info: Creating pull request...
[ Info: ✓ Pull request created successfully!</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../compat_bumping/">« Compat Bumping</a><a class="docs-footer-nextpage" href="../version_check_finder/">Version Check Finder »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 28 July 2025 08:56">Monday 28 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
