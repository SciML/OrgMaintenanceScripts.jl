<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Version Bumping · OrgMaintenanceScripts.jl</title><meta name="title" content="Version Bumping · OrgMaintenanceScripts.jl"/><meta property="og:title" content="Version Bumping · OrgMaintenanceScripts.jl"/><meta property="twitter:title" content="Version Bumping · OrgMaintenanceScripts.jl"/><meta name="description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="twitter:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_bumping/"/><meta property="twitter:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_bumping/"/><link rel="canonical" href="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_bumping/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OrgMaintenanceScripts.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OrgMaintenanceScripts.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../formatting/">Formatting Maintenance</a></li><li class="is-active"><a class="tocitem" href>Version Bumping</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Usage-Examples"><span>Usage Examples</span></a></li><li><a class="tocitem" href="#Workflow-Integration"><span>Workflow Integration</span></a></li><li><a class="tocitem" href="#Error-Handling"><span>Error Handling</span></a></li><li><a class="tocitem" href="#Best-Practices"><span>Best Practices</span></a></li><li><a class="tocitem" href="#Limitations"><span>Limitations</span></a></li><li><a class="tocitem" href="#API-Summary"><span>API Summary</span></a></li></ul></li><li><a class="tocitem" href="../compat_bumping/">Compat Bumping</a></li><li><a class="tocitem" href="../min_version_fixing/">Minimum Version Fixing</a></li><li><a class="tocitem" href="../version_check_finder/">Version Check Finder</a></li><li><a class="tocitem" href="../explicit_imports_fixing/">Explicit Imports Fixing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Version Bumping</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Version Bumping</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/OrgMaintenanceScripts.jl/blob/main/docs/src/version_bumping.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Version-Bumping-and-Registration"><a class="docs-heading-anchor" href="#Version-Bumping-and-Registration">Version Bumping and Registration</a><a id="Version-Bumping-and-Registration-1"></a><a class="docs-heading-anchor-permalink" href="#Version-Bumping-and-Registration" title="Permalink"></a></h1><p>The <code>OrgMaintenanceScripts.jl</code> package provides tools for automatically bumping minor versions and registering Julia packages. This functionality helps maintain consistent versioning across packages and simplifies the release process.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The version bumping and registration tools:</p><ul><li>Automatically increment minor version numbers in Project.toml files</li><li>Handle main packages and subpackages in <code>lib/</code> directories</li><li>Create git commits for version changes</li><li>Register packages to Julia registries (placeholder functionality)</li><li>Process entire GitHub organizations at once</li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="bump_minor_version"><a class="docs-heading-anchor" href="#bump_minor_version"><code>bump_minor_version</code></a><a id="bump_minor_version-1"></a><a class="docs-heading-anchor-permalink" href="#bump_minor_version" title="Permalink"></a></h3><p>Bump the minor version of a semantic version string.</p><pre><code class="language-julia hljs">bump_minor_version(version_str::String) -&gt; String</code></pre><p><strong>Parameters:</strong></p><ul><li><code>version_str</code>: A semantic version string (e.g., &quot;1.2.3&quot;)</li></ul><p><strong>Returns:</strong> New version string with incremented minor version (e.g., &quot;1.3.0&quot;)</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">new_version = bump_minor_version(&quot;1.2.3&quot;)  # Returns &quot;1.3.0&quot;
new_version = bump_minor_version(&quot;0.5.0&quot;)  # Returns &quot;0.6.0&quot;</code></pre><h3 id="update_project_version"><a class="docs-heading-anchor" href="#update_project_version"><code>update_project_version</code></a><a id="update_project_version-1"></a><a class="docs-heading-anchor-permalink" href="#update_project_version" title="Permalink"></a></h3><p>Update the version in a Project.toml file by bumping the minor version.</p><pre><code class="language-julia hljs">update_project_version(project_path::String)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>project_path</code>: Path to the Project.toml file</li></ul><p><strong>Returns:</strong> Tuple <code>(old_version, new_version)</code> or <code>nothing</code> if no version field exists</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">result = update_project_version(&quot;path/to/Project.toml&quot;)
if !isnothing(result)
    old_ver, new_ver = result
    println(&quot;Updated: $old_ver → $new_ver&quot;)
end</code></pre><h3 id="register_package"><a class="docs-heading-anchor" href="#register_package"><code>register_package</code></a><a id="register_package-1"></a><a class="docs-heading-anchor-permalink" href="#register_package" title="Permalink"></a></h3><p>Register a Julia package to the specified registry.</p><pre><code class="language-julia hljs">register_package(package_dir::String; registry_url=&quot;https://github.com/JuliaRegistries/General&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>package_dir</code>: Directory containing the package to register</li><li><code>registry_url</code>: URL of the target registry (default: General registry)</li></ul><p><strong>Returns:</strong> <code>true</code> on success</p><div class="admonition is-info" id="Note-164d687dfe787d3a"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-164d687dfe787d3a" title="Permalink"></a></header><div class="admonition-body"><p>This is currently a placeholder function. In practice, it would use <code>LocalRegistry.jl</code> or similar tools for actual registration.</p></div></div><h3 id="bump_and_register_repo"><a class="docs-heading-anchor" href="#bump_and_register_repo"><code>bump_and_register_repo</code></a><a id="bump_and_register_repo-1"></a><a class="docs-heading-anchor-permalink" href="#bump_and_register_repo" title="Permalink"></a></h3><p>Bump minor versions and register all packages in a repository.</p><pre><code class="language-julia hljs">bump_and_register_repo(repo_path::String; registry_url=&quot;https://github.com/JuliaRegistries/General&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>repo_path</code>: Path to the repository</li><li><code>registry_url</code>: URL of the target registry</li></ul><p><strong>Returns:</strong> Named tuple <code>(registered=String[], failed=String[])</code></p><p>This function:</p><ol><li>Updates the main Project.toml (if exists)</li><li>Updates all lib/*/Project.toml files</li><li>Attempts to register each package</li><li>Commits version changes to git</li></ol><p><strong>Example:</strong></p><pre><code class="language-julia hljs">result = bump_and_register_repo(&quot;/path/to/MyPackage.jl&quot;)
println(&quot;Successfully registered: &quot;, result.registered)
println(&quot;Failed to register: &quot;, result.failed)</code></pre><h3 id="get_org_repos"><a class="docs-heading-anchor" href="#get_org_repos"><code>get_org_repos</code></a><a id="get_org_repos-1"></a><a class="docs-heading-anchor-permalink" href="#get_org_repos" title="Permalink"></a></h3><p>Get all repositories for a GitHub organization.</p><pre><code class="language-julia hljs">get_org_repos(org::String; auth_token::String=&quot;&quot;)</code></pre><p><strong>Parameters:</strong></p><ul><li><code>org</code>: GitHub organization name</li><li><code>auth_token</code>: GitHub authentication token (optional but recommended)</li></ul><p><strong>Returns:</strong> Vector of repository full names (e.g., &quot;SciML/OrdinaryDiffEq.jl&quot;)</p><h3 id="bump_and_register_org"><a class="docs-heading-anchor" href="#bump_and_register_org"><code>bump_and_register_org</code></a><a id="bump_and_register_org-1"></a><a class="docs-heading-anchor-permalink" href="#bump_and_register_org" title="Permalink"></a></h3><p>Bump minor versions and register all packages in all repositories of a GitHub organization.</p><pre><code class="language-julia hljs">bump_and_register_org(org::String; 
                     registry_url=&quot;https://github.com/JuliaRegistries/General&quot;,
                     auth_token::String=&quot;&quot;,
                     work_dir::String=mktempdir())</code></pre><p><strong>Parameters:</strong></p><ul><li><code>org</code>: GitHub organization name</li><li><code>registry_url</code>: URL of the target registry</li><li><code>auth_token</code>: GitHub authentication token</li><li><code>work_dir</code>: Working directory for cloning repositories</li></ul><p><strong>Returns:</strong> Dictionary mapping repository names to results</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">results = bump_and_register_org(&quot;SciML&quot;; auth_token=ENV[&quot;GITHUB_TOKEN&quot;])

for (repo, result) in results
    println(&quot;$repo:&quot;)
    println(&quot;  Registered: &quot;, result.registered)
    println(&quot;  Failed: &quot;, result.failed)
end</code></pre><h2 id="Usage-Examples"><a class="docs-heading-anchor" href="#Usage-Examples">Usage Examples</a><a id="Usage-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Examples" title="Permalink"></a></h2><h3 id="Bump-Version-for-a-Single-Package"><a class="docs-heading-anchor" href="#Bump-Version-for-a-Single-Package">Bump Version for a Single Package</a><a id="Bump-Version-for-a-Single-Package-1"></a><a class="docs-heading-anchor-permalink" href="#Bump-Version-for-a-Single-Package" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OrgMaintenanceScripts

# Update version in Project.toml
old_ver, new_ver = update_project_version(&quot;MyPackage/Project.toml&quot;)
println(&quot;Version bumped: $old_ver → $new_ver&quot;)</code></pre><h3 id="Process-a-Repository-with-Subpackages"><a class="docs-heading-anchor" href="#Process-a-Repository-with-Subpackages">Process a Repository with Subpackages</a><a id="Process-a-Repository-with-Subpackages-1"></a><a class="docs-heading-anchor-permalink" href="#Process-a-Repository-with-Subpackages" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Bump versions and register all packages in a repository
result = bump_and_register_repo(&quot;/path/to/ComplexPackage.jl&quot;)

println(&quot;Main package and $(length(result.registered)-1) subpackages processed&quot;)</code></pre><h3 id="Process-an-Entire-Organization"><a class="docs-heading-anchor" href="#Process-an-Entire-Organization">Process an Entire Organization</a><a id="Process-an-Entire-Organization-1"></a><a class="docs-heading-anchor-permalink" href="#Process-an-Entire-Organization" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Set up authentication
auth_token = ENV[&quot;GITHUB_TOKEN&quot;]

# Process all repositories in the SciML organization
results = bump_and_register_org(&quot;SciML&quot;; auth_token=auth_token)

# Generate summary report
total_registered = sum(length(r.registered) for r in values(results))
total_failed = sum(length(r.failed) for r in values(results))

println(&quot;Organization Summary:&quot;)
println(&quot;  Total packages registered: $total_registered&quot;)
println(&quot;  Total failures: $total_failed&quot;)</code></pre><h2 id="Workflow-Integration"><a class="docs-heading-anchor" href="#Workflow-Integration">Workflow Integration</a><a id="Workflow-Integration-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow-Integration" title="Permalink"></a></h2><h3 id="Automated-Release-Process"><a class="docs-heading-anchor" href="#Automated-Release-Process">Automated Release Process</a><a id="Automated-Release-Process-1"></a><a class="docs-heading-anchor-permalink" href="#Automated-Release-Process" title="Permalink"></a></h3><ol><li><strong>Version Bumping</strong>: Automatically increment minor versions</li><li><strong>Git Commit</strong>: Create commits with descriptive messages</li><li><strong>Registration</strong>: Register to Julia registries</li><li><strong>Push Changes</strong>: Push version bumps to remote</li></ol><h3 id="CI/CD-Integration"><a class="docs-heading-anchor" href="#CI/CD-Integration">CI/CD Integration</a><a id="CI/CD-Integration-1"></a><a class="docs-heading-anchor-permalink" href="#CI/CD-Integration" title="Permalink"></a></h3><p>The tools can be integrated into CI/CD pipelines:</p><pre><code class="language-yaml hljs"># Example GitHub Action
- name: Bump and Register
  run: |
    julia -e &#39;using OrgMaintenanceScripts; 
             bump_and_register_repo(&quot;.&quot;)&#39;</code></pre><h2 id="Error-Handling"><a class="docs-heading-anchor" href="#Error-Handling">Error Handling</a><a id="Error-Handling-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling" title="Permalink"></a></h2><p>The functions include comprehensive error handling:</p><ul><li>Missing Project.toml files generate warnings</li><li>Registration failures are captured and reported</li><li>Git operations are wrapped in try-catch blocks</li><li>Each repository in organization processing is isolated</li></ul><h2 id="Best-Practices"><a class="docs-heading-anchor" href="#Best-Practices">Best Practices</a><a id="Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices" title="Permalink"></a></h2><ol><li><strong>Authentication</strong>: Always use GitHub tokens for organization operations</li><li><strong>Testing</strong>: Test version bumping on a single package first</li><li><strong>Backup</strong>: The tools create git commits, ensuring changes can be reverted</li><li><strong>Review</strong>: Check the results before pushing to remote repositories</li></ol><h2 id="Limitations"><a class="docs-heading-anchor" href="#Limitations">Limitations</a><a id="Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations" title="Permalink"></a></h2><ul><li>Currently only bumps minor versions (not major or patch)</li><li>Registration is a placeholder (requires LocalRegistry.jl integration)</li><li>Assumes semantic versioning (MAJOR.MINOR.PATCH)</li><li>Requires git to be configured with appropriate credentials</li></ul><h2 id="API-Summary"><a class="docs-heading-anchor" href="#API-Summary">API Summary</a><a id="API-Summary-1"></a><a class="docs-heading-anchor-permalink" href="#API-Summary" title="Permalink"></a></h2><table><tr><th style="text-align: right">Function</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>bump_minor_version(version_str)</code></td><td style="text-align: right">Increment minor version number</td></tr><tr><td style="text-align: right"><code>update_project_version(project_path)</code></td><td style="text-align: right">Update version in Project.toml</td></tr><tr><td style="text-align: right"><code>register_package(package_dir; registry_url)</code></td><td style="text-align: right">Register package (placeholder)</td></tr><tr><td style="text-align: right"><code>bump_and_register_repo(repo_path; registry_url)</code></td><td style="text-align: right">Process entire repository</td></tr><tr><td style="text-align: right"><code>get_org_repos(org; auth_token)</code></td><td style="text-align: right">List organization repositories</td></tr><tr><td style="text-align: right"><code>bump_and_register_org(org; kwargs...)</code></td><td style="text-align: right">Process entire organization</td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../formatting/">« Formatting Maintenance</a><a class="docs-footer-nextpage" href="../compat_bumping/">Compat Bumping »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 28 July 2025 09:28">Monday 28 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
