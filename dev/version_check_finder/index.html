<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Version Check Finder · OrgMaintenanceScripts.jl</title><meta name="title" content="Version Check Finder · OrgMaintenanceScripts.jl"/><meta property="og:title" content="Version Check Finder · OrgMaintenanceScripts.jl"/><meta property="twitter:title" content="Version Check Finder · OrgMaintenanceScripts.jl"/><meta name="description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="twitter:description" content="Documentation for OrgMaintenanceScripts.jl."/><meta property="og:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_check_finder/"/><meta property="twitter:url" content="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_check_finder/"/><link rel="canonical" href="https://docs.sciml.ai/OrgMaintenanceScripts/stable/version_check_finder/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OrgMaintenanceScripts.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OrgMaintenanceScripts.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../formatting/">Formatting Maintenance</a></li><li><a class="tocitem" href="../version_bumping/">Version Bumping</a></li><li><a class="tocitem" href="../compat_bumping/">Compat Bumping</a></li><li><a class="tocitem" href="../min_version_fixing/">Minimum Version Fixing</a></li><li class="is-active"><a class="tocitem" href>Version Check Finder</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Supported-Patterns"><span>Supported Patterns</span></a></li><li><a class="tocitem" href="#Usage-Examples"><span>Usage Examples</span></a></li><li><a class="tocitem" href="#Best-Practices"><span>Best Practices</span></a></li></ul></li><li><a class="tocitem" href="../invalidation_analysis/">Invalidation Analysis</a></li><li><a class="tocitem" href="../import_timing_analysis/">Import Timing Analysis</a></li><li><a class="tocitem" href="../explicit_imports_fixing/">Explicit Imports Fixing</a></li><li><a class="tocitem" href="../documentation_cleanup/">Documentation Cleanup</a></li><li><a class="tocitem" href="../multiprocess_testing/">Multiprocess Testing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Version Check Finder</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Version Check Finder</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/OrgMaintenanceScripts.jl/blob/main/docs/src/version_check_finder.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Version-Check-Finder"><a class="docs-heading-anchor" href="#Version-Check-Finder">Version Check Finder</a><a id="Version-Check-Finder-1"></a><a class="docs-heading-anchor-permalink" href="#Version-Check-Finder" title="Permalink"></a></h1><p>The Version Check Finder functionality helps identify and remove obsolete Julia version compatibility checks from your codebase.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>When Julia releases new versions, older version checks become obsolete. For example, with Julia 1.10 as the current LTS, checks for versions older than 1.10 are no longer needed. This module helps you:</p><ol><li>Find obsolete version checks</li><li>Generate scripts to review them</li><li>Automatically create PRs to remove them</li></ol><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Finding-Version-Checks"><a class="docs-heading-anchor" href="#Finding-Version-Checks">Finding Version Checks</a><a id="Finding-Version-Checks-1"></a><a class="docs-heading-anchor-permalink" href="#Finding-Version-Checks" title="Permalink"></a></h3><pre><code class="language-julia hljs">find_version_checks_in_file(filepath::String; min_version::VersionNumber = v&quot;1.10&quot;)</code></pre><p>Find version checks in a single file that compare against versions older than <code>min_version</code>.</p><pre><code class="language-julia hljs">find_version_checks_in_repo(repo_path::String; min_version::VersionNumber = v&quot;1.10&quot;,
    ignore_dirs = [&quot;test&quot;, &quot;docs&quot;, &quot;.git&quot;])</code></pre><p>Find version checks in an entire repository.</p><pre><code class="language-julia hljs">find_version_checks_in_org(org::String; min_version::VersionNumber = v&quot;1.10&quot;,
    auth_token::String = &quot;&quot;, work_dir::String = mktempdir())</code></pre><p>Find version checks across all repositories in a GitHub organization.</p><h3 id="Writing-Results-to-Scripts"><a class="docs-heading-anchor" href="#Writing-Results-to-Scripts">Writing Results to Scripts</a><a id="Writing-Results-to-Scripts-1"></a><a class="docs-heading-anchor-permalink" href="#Writing-Results-to-Scripts" title="Permalink"></a></h3><pre><code class="language-julia hljs">write_version_checks_to_script(checks::Vector{VersionCheck}, output_file::String = &quot;fix_version_checks.jl&quot;)</code></pre><p>Write version check results to an executable Julia script for review and manual fixes.</p><pre><code class="language-julia hljs">write_org_version_checks_to_script(org_results::Dict{String, Vector{VersionCheck}},
    output_file::String = &quot;fix_org_version_checks.jl&quot;)</code></pre><p>Write organization-wide results to a script.</p><h3 id="Automated-Fixing"><a class="docs-heading-anchor" href="#Automated-Fixing">Automated Fixing</a><a id="Automated-Fixing-1"></a><a class="docs-heading-anchor-permalink" href="#Automated-Fixing" title="Permalink"></a></h3><pre><code class="language-julia hljs">fix_version_checks_parallel(checks::Vector{VersionCheck}, n_processes::Int = 4;
    github_token::String = &quot;&quot;, base_branch::String = &quot;main&quot;)</code></pre><p>Fix version checks in parallel using N processes. Each process creates a PR to remove obsolete checks.</p><pre><code class="language-julia hljs">fix_org_version_checks_parallel(org::String, n_processes::Int = 4;
    min_version::VersionNumber = v&quot;1.10&quot;, github_token::String = &quot;&quot;)</code></pre><p>Find and fix version checks across an entire organization using parallel processing.</p><h2 id="Supported-Patterns"><a class="docs-heading-anchor" href="#Supported-Patterns">Supported Patterns</a><a id="Supported-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-Patterns" title="Permalink"></a></h2><p>The finder detects these version check patterns:</p><ul><li><code>if VERSION &gt;= v&quot;1.6&quot;</code></li><li><code>@static if VERSION &gt; v&quot;1.8.0&quot;</code></li><li><code>VERSION &lt;= v&quot;1.9&quot;</code></li><li><code>VERSION == v&quot;1.7&quot;</code></li><li><code>VERSION &gt;= VersionNumber(&quot;1.6&quot;)</code></li></ul><h2 id="Usage-Examples"><a class="docs-heading-anchor" href="#Usage-Examples">Usage Examples</a><a id="Usage-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Examples" title="Permalink"></a></h2><h3 id="Find-checks-in-a-single-repository"><a class="docs-heading-anchor" href="#Find-checks-in-a-single-repository">Find checks in a single repository</a><a id="Find-checks-in-a-single-repository-1"></a><a class="docs-heading-anchor-permalink" href="#Find-checks-in-a-single-repository" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OrgMaintenanceScripts

# Find all version checks older than Julia 1.10
checks = find_version_checks_in_repo(&quot;/path/to/repo&quot;)

# Write results to a script
write_version_checks_to_script(checks, &quot;fix_my_checks.jl&quot;)</code></pre><h3 id="Process-an-entire-organization"><a class="docs-heading-anchor" href="#Process-an-entire-organization">Process an entire organization</a><a id="Process-an-entire-organization-1"></a><a class="docs-heading-anchor-permalink" href="#Process-an-entire-organization" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Set up GitHub token
github_token = ENV[&quot;GITHUB_TOKEN&quot;]

# Find and fix all obsolete version checks
results = fix_org_version_checks_parallel(&quot;JuliaLang&quot;, 4;
    github_token = github_token,
    min_version = v&quot;1.10&quot;
)</code></pre><h3 id="Custom-minimum-version"><a class="docs-heading-anchor" href="#Custom-minimum-version">Custom minimum version</a><a id="Custom-minimum-version-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-minimum-version" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Find checks older than Julia 1.11
checks = find_version_checks_in_repo(&quot;/path/to/repo&quot;; min_version = v&quot;1.11&quot;)</code></pre><h2 id="Best-Practices"><a class="docs-heading-anchor" href="#Best-Practices">Best Practices</a><a id="Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices" title="Permalink"></a></h2><ol><li>Always review the generated scripts before applying fixes</li><li>Test your code after removing version checks</li><li>Consider keeping version checks in test files for compatibility testing</li><li>Use GitHub authentication for better API rate limits</li><li>Start with a single repository before processing entire organizations</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../min_version_fixing/">« Minimum Version Fixing</a><a class="docs-footer-nextpage" href="../invalidation_analysis/">Invalidation Analysis »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 2 August 2025 20:00">Saturday 2 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
